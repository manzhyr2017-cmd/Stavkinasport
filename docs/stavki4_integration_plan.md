# –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–æ–¥—É–ª—è "Stavki 4.1" (Russian Market & Insurance Express)

## 1. –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ú–æ–¥—É–ª—å `Stavki 4.1` –¥–æ–±–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **—Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –±—É–∫–º–µ–∫–µ—Ä–∞–º–∏** (–≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å **–§–æ–Ω–±–µ—Ç**), –≤–∫–ª—é—á–∞—è:
- **–ü—Ä—è–º–æ–π –ø–∞—Ä—Å–∏–Ω–≥ API –§–æ–Ω–±–µ—Ç**: –ë—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ Selenium/HTML –ø–∞—Ä—Å–∏–Ω–≥–∞.
- **–ú—É–ª—å—Ç–∏—Å–ø–æ—Ä—Ç**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –§—É—Ç–±–æ–ª–∞, –•–æ–∫–∫–µ—è, –ë–∞—Å–∫–µ—Ç–±–æ–ª–∞, –¢–µ–Ω–Ω–∏—Å–∞, –ö–∏–±–µ—Ä—Å–ø–æ—Ä—Ç–∞.
- **–ú–µ—Ç–æ–¥ –®–∏–Ω–∞ (Shin's Method)**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ —Å —É—á–µ—Ç–æ–º –º–∞—Ä–∂–∏ –±—É–∫–º–µ–∫–µ—Ä–∞.
- **–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –≠–∫—Å–ø—Ä–µ—Å—Å–æ–≤**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å–±–æ—Ä–∞ —ç–∫—Å–ø—Ä–µ—Å—Å–æ–≤ –∏–∑ 6+ —Å–æ–±—ã—Ç–∏–π —Å –∫—Ñ ‚â• 1.60, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç –ø—Ä–∏ –æ–¥–Ω–æ–º –ø—Ä–æ–∏–≥—Ä—ã—à–µ.

## 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### A. –ü–µ—Ä–µ–Ω–æ—Å —Ñ–∞–π–ª–æ–≤
1.  `stavki4/ru_bookmakers.py` -> `core/ru_bookmakers.py`: –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ —Ä–∞—Å—á–µ—Ç–∞ –≤–∞–ª—É–µ–≤.
2.  `stavki4/ru_config.py` -> `config/ru_config.py`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞.

### B. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `core`
1.  **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `SignalGenerator`**:
    - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é `RuBettingAssistant` –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ `RU_MODE`.
    - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å–∏–≥–Ω–∞–ª—ã –æ—Ç `OddsAPI` (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ) –∏ `Fonbet` (RU).
    - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ (–µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –µ—Å—Ç—å –∏ —Ç–∞–º, –∏ —Ç–∞–º).

2.  **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (`core/models.py`)**:
    - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `RuMatch` –∏ `RuExpressBet` —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏ –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∏—Ö.
    - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `is_insurance_eligible`, `effective_ev`.

### C. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –î–∞—à–±–æ—Ä–¥–∞ (`bot/dashboard.py`)
1.  –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ "–°—Ç—Ä–∞—Ö–æ–≤–∫–∏" (—â–∏—Ç üõ°Ô∏è) –¥–ª—è —ç–∫—Å–ø—Ä–µ—Å—Å–æ–≤.
2.  –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞ (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ –§—É—Ç–±–æ–ª, –º–æ–¥—É–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –•–æ–∫–∫–µ–π/–ë–∞—Å–∫–µ—Ç–±–æ–ª/–¢–µ–Ω–Ω–∏—Å).
3.  –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å `Effective EV` (—Å —É—á–µ—Ç–æ–º —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏) —Ä—è–¥–æ–º —Å –æ–±—ã—á–Ω—ã–º EV.

### D. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ (`bot/telegram_bot.py`)
1.  –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã `/ru_scan` –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ä–µ–∂–∏–º–∞.
2.  –£–ª—É—á—à–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —ç–∫—Å–ø—Ä–µ—Å—Å–æ–≤ —Å–æ —Å—Ç—Ä–∞—Ö–æ–≤–∫–æ–π.

## 3. –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑—ã
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã `ru_bookmakers.py` –∏ `ru_config.py`.
- –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `config/settings.py` (`RU_MODE = True`).

### –®–∞–≥ 2: –ê–¥–∞–ø—Ç–∞—Ü–∏—è SignalGenerator
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `core/signal_generator.py`:
  - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `RuBettingAssistant`.
  - –í –º–µ—Ç–æ–¥–µ `run_scan` –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ `RuBettingAssistant.scan()`.
  - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `RuMatch`/`RuExpressBet` –≤ —Ñ–æ—Ä–º–∞—Ç —Å–∏—Å—Ç–µ–º—ã.

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
- –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `main.py --ru-test`.
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –∏ —Ä–∞–±–æ—Ç—ã –º–µ—Ç–æ–¥–∞ –®–∏–Ω–∞.

### –®–∞–≥ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≠–∫—Å–ø—Ä–µ—Å—Å–æ–≤
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å `FonbetExpressOptimizer` –≤ –æ–±—â–∏–π –ø–æ—Ç–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–∫—Å–ø—Ä–µ—Å—Å–æ–≤.
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç–∫—Å–ø—Ä–µ—Å—Å—ã —Å–æ —Å—Ç—Ä–∞—Ö–æ–≤–∫–æ–π –ø–æ–ø–∞–¥–∞—é—Ç –≤ `state['expresses']`.

### –®–∞–≥ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
- –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫–∏ –≤–∏–¥–æ–≤ —Å–ø–æ—Ä—Ç–∞ –≤ –î–∞—à–±–æ—Ä–¥.
- –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å—Ç–∞—Ç—É—Å "–°—Ç—Ä–∞—Ö–æ–≤–∫–∞" –¥–ª—è —ç–∫—Å–ø—Ä–µ—Å—Å–æ–≤.

## 4. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è —Å–æ–±—ã—Ç–∏–π (–≤—Å–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞ –§–æ–Ω–±–µ—Ç).
- –ü–æ—è–≤–ª–µ–Ω–∏–µ –≤—ã—Å–æ–∫–æ–º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø—Ä–µ—Å—Å–æ–≤ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–∏–≥—Ä—ã—à–∞.
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–µ—Ä–µ–≤–µ—Å–∞ (Edge) –∑–∞ —Å—á–µ—Ç –º–µ—Ç–æ–¥–∞ –®–∏–Ω–∞.
